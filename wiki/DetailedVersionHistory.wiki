#summary Detailed version release history
#labels Featured

*Alpha6 Changes*

I modified the compressor to use fixed point arithmetic to track bit prices, instead of floating point math. (The compressor should not use floating point math anywhere now.) This ensures the compressor's output doesn't vary between compilers, optimization settings, platforms, etc. The compression ratio has actually improved a tiny amount (by around .05% to .08%) in this release due to this change.

I also removed an unnecessary per-block memcpy() from the compressor for a minor perf. savings.

Alpha6's output should be binary compatible with Alpha5 (and vice versa).

* Alpha5 Changes*

x86 Linux support: Alpha5's compressor now supports the pthreads API for threading and GCC's atomic built-in functions for lock-free operations. I've included a Codeblocks IDE workspace for Linux (lzhamtest_linux.workspace). The codec has been tested under 32-bit Ubuntu (Lucid Lynx). There's still work to be done here: 64-bit support, proper makefiles, and much more testing is needed.

Alpha5's decompressor is now implemented purely as a coroutine. (Previous versions relied  on the Win32 Fiber API. The upside to the coroutine method is cross platform compatibility, and the downside is a definite increase in complexity.) The coroutine approach closely resembles the one outlined here: [http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html Coroutines in C]

LZHAM's compression ratio is now closer to LZMA than alpha4, occasionally even beating it. Decompression speed has been improved by around 4-8% on Core i7 processors, and compression ratio has been improved by a tiny amount.

The compressor's load balancing efficiency on multicore CPU's has been improved, particularly when the "extreme" parser (-x option) is enabled.

The codec can now be compiled under plain vanilla ANSI C/C++ by defining the LZHAM_ANSI_CPLUSPLUS macro. This disables all threading and atomic operations in the compressor.

The compressed bitstream format has been cleaned up a bit. Important: Compressed bitstreams created by earlier alpha releases are not compatible with this release, and vice versa.

I've included two alternatives to Polar coding (Shannon-Fano and Fyffe) that can be enabled for experimental purposes. See the LZHAM_USE_SHANNON_FANO_CODES and LZHAM_USE_FYFFE_CODES #defines in lzhamdecomp/lzham_polar_codes.cpp.

*Alpha4 Changes*

The compressor in alpha4 has been optimized for speed and has a slightly higher compression ratio vs. alpha3:

  * Near-optimal parser rewritten: Completely removed "unvisited" node list, more efficient cost evaluation, more effective/simpler match suppression.
  * Match finder improvements: A separate small hash table is now used for len2 match finding, allowing the main match finder to concentrate on len3+ matches. 
  * Task pool class was simplified and improved by using a lock-free stack.
  * Some of the work on the main thread was moved around a bit to better increase parallelism. Also, len2 match finding is now done on the main thread in parallel with the main match finder.
  * Polar coding can now be optionally enabled in all compression levels.
  * alpha4 also includes an optional "extreme" parser that records the four lowest cost paths found to each character in the lookahead buffer. (The regular parser only records the cheapest path to each character.) This parser is enabled by using the "-x" option in the test app. (-x is probably impractically slow unless you're on a machine with a lot of cores. It partially exists to help me determine the upper limit to how much parsing changes alone can increase LZHAM's compression ratio.)

*Alpha3 Changes*

The alpha3 release greatly improves compression speed, particularly on multicore systems. alpha3's near-optimal parser includes a number of additional speed optimizations and is now multithreaded for an overall 3-4x increase in compression speed vs. alpha2 (on a Core i7 using 3 parser threads and 5 match finder threads). alpha3's compression ratio should be more or less the same as alpha2's.

The lzhamtest_x86/x64 test executable now supports several command line parameters to control dictionary size, compression level, the number of helper threads used, etc.

The codec has been ported and minimally tested on the big endian Xbox 360 platform, and now compiles with GCC 4.5.0 using TDM-GCC x64.

The included pre-compiled executables no longer rely on the VC8 C run time library DLL's, and should run on WinXP systems.